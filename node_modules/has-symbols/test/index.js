'use strict';

// Import required modules: 'tape' for testing and 'hasSymbols' from '../' for checking if the current JavaScript environment supports Symbols
var test = require('tape');
var hasSymbols = require('../');

// Import helper function 'runSymbolTests' from './tests' for running Symbol-related tests
var runSymbolTests = require('./tests');

// Start the first test suite to check the interface of 'hasSymbols' function
test('interface', function (t) {
  // Check if 'hasSymbols' is a function
  t.equal(typeof hasSymbols, 'function', 'is a function');
  
  // Check if 'hasSymbols' returns a boolean
  t.equal(typeof hasSymbols(), 'boolean', 'returns a boolean');
  
  // End the test suite
  t.end();
});

// Based on the result of 'hasSymbols()', conditionally start the second or third test suite
test('Symbols are supported', { skip: !hasSymbols() }, function (t) {
  // If Symbols are supported, run Symbol-related tests using the imported 'runSymbolTests' function
  runSymbolTests(t);
  
  // End the test suite
  t.end();
});

test('Symbols are not supported', { skip: hasSymbols() }, function (t) {
  // If Symbols are not supported, check for the absence of 'Symbol' and 'Object.getOwnPropertySymbols'
  t.equal(typeof Symbol, 'undefined', 'global Symbol is undefined');
  t.equal(typeof Object.getOwnPropertySymbols, 'undefined', 'Object.getOwnPropertySymbols does not exist');
  
  // End the test suite
  t.end();
});

