// Importing the Handler type from "../handler"
import { Handler } from "../handler";

// Defining the custom type for CloudFormationCustomResourceHandler, which is a function
// with the signature of Handler<CloudFormationCustomResourceEvent, void>
export type CloudFormationCustomResourceHandler = Handler<CloudFormationCustomResourceEvent, void>;

// Defining the custom type for CloudFormationCustomResourceEvent, which can be one of
// the following: CloudFormationCustomResourceCreateEvent,
// CloudFormationCustomResourceUpdateEvent, or CloudFormationCustomResourceDeleteEvent
export type CloudFormationCustomResourceEvent =
    | CloudFormationCustomResourceCreateEvent
    | CloudFormationCustomResourceUpdateEvent
    | CloudFormationCustomResourceDeleteEvent;

// Defining the custom type for CloudFormationCustomResourceResponse, which can be one of
// the following: CloudFormationCustomResourceSuccessResponse or CloudFormationCustomResourceFailedResponse
export type CloudFormationCustomResourceResponse =
    | CloudFormationCustomResourceSuccessResponse
    | CloudFormationCustomResourceFailedResponse;

// Interface for common properties of CloudFormationCustomResourceEvent
export interface CloudFormationCustomResourceEventCommon {
    // The AWS Lambda function ARN that is called by CloudFormation
    ServiceToken: string;

    // The URL that CloudFormation sends the response to
    ResponseURL: string;

    // The CloudFormation stack ID
    StackId: string;

    // The unique request ID for this specific request
    RequestId: string;

    // The logical ID of the resource in the CloudFormation template
    LogicalResourceId: string;

    // The resource type of the custom resource
    ResourceType: string;

    // The properties of the resource as specified in the CloudFormation template
    ResourceProperties: {
        // The ServiceToken property is required, while the rest of the properties are optional
        ServiceToken: string;
        [Key: string]: any;
    };
}

// Interface for create request type of CloudFormationCustomResourceEvent
export interface CloudFormationCustomResourceCreateEvent extends CloudFormationCustomResourceEventCommon {
    RequestType: "Create";
}

// Interface for update request type of CloudFormationCustomResourceEvent
export interface CloudFormationCustomResourceUpdateEvent extends CloudFormationCustomResourceEventCommon {
    RequestType: "Update";

    // The physical ID of the resource in the previous version
    PhysicalResourceId: string;

    // The properties of the resource in the previous version
    OldResourceProperties: {
        [Key: string]: any;
    };
}

// Interface for delete request type of CloudFormationCustomResourceEvent
export interface CloudFormationCustomResourceDeleteEvent extends CloudFormationCustomResourceEventCommon {
    RequestType: "Delete";

    // The physical ID of the resource
    PhysicalResourceId: string;
}

// Interface for common properties of CloudFormationCustomResourceResponse
export interface CloudFormationCustomResourceResponseCommon {
    // The physical ID of the resource
    PhysicalResourceId: string;

    // The CloudFormation stack ID
    StackId: string;

    // The unique request ID for this specific request
    RequestId: string;

    // The logical ID of the resource in the CloudFormation template
    LogicalResourceId: string;

    // Additional data to be sent back to CloudFormation
    Data?: {
        [Key: string]: any;
    } | undefined;

    // Whether or not to mask the response data in the CloudFormation events
    NoEcho?: boolean | undefined;
}

// Interface for successful response type of CloudFormationCustomResourceResponse
export interface CloudFormation
