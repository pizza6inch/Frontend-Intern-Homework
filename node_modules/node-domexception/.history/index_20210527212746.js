/*!
 * blob-to-buffer
 * MIT License
 * Jimmy WÃ¤rting <https://jimmy.warting.se/opensource>
 *
 * This code exports the DOMException constructor, which is part of the DOM (Document Object Model) API.
 * It checks if the constructor is already available in the global scope, and if not, it creates a new ArrayBuffer
 * object and attempts to send it through a MessageChannel in a worker thread. If a DOMException is thrown
 * during this process, the code assigns the constructor to the globalThis.DOMException property.
 *
 * This can be useful in environments such as Node.js, where the DOM is not available by default.
 */

if (!globalThis.DOMException) {
  // Import the MessageChannel constructor from the worker_threads module
  const { MessageChannel } = require('worker_threads')

  // Create a new MessageChannel and obtain the first port
  const port = new MessageChannel().port1

  // Create a new ArrayBuffer object
  const ab = new ArrayBuffer()

  // Attempt to send the ArrayBuffer object through the MessageChannel port
  try {
    port.postMessage(ab, [ab, ab])
  } catch (err) {
    // If a DOMException is thrown, assign the
