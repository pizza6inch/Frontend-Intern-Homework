#!/bin/sh

# Define the base directory of the script
basedir=$(dirname "$(echo "$0" | sed -e 's,\\,/,g')")

# Check if the script is running on Cygwin, MINGW, or MSYS
case `uname` in
    *CYGWIN*|*MINGW*|*MSYS*)
        # If cygpath is available, convert the base directory to Windows format
        if command -v cygpath > /dev/null 2>&1; then
            basedir=`cygpath -w "$basedir"`
        fi
    ;;
esac

# Check if the correct version of Node.js is installed in the base directory
if [ -x "$basedir/node" ]; then
  # If it is, run the semver.js file using the local Node.js version
  exec "$basedir/node"  "$basedir/../semver/bin/semver.js" "$@"
else 
  # If not, run the semver.js file using the system Node.js version
  exec node  "$basedir/../semver/bin/semver.js" "$@"
fi
