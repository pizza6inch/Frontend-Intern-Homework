// Define the shape of an incoming message object
type IncomingMessage = any;

// Define the shape of a server response object
type ServerResponse = any;

// Import the App type from the index module
import { App } from "../../index";

// Define the shape of middleware options
export type MiddlewareOptions = {
    // Path prefix for the middleware
    pathPrefix?: string;
    // Log options for the middleware
    log?: Options["log"];
};

// Export a function for creating a Node.js middleware
export declare function createNodeMiddleware(
    app: App, // The application instance
    options?: MiddlewareOptions // Optional middleware options
): (request: any, response: any, next?: Function | undefined) => Promise<boolean>;

// Export a function for handling the middleware
export declare function middleware(
    pathPrefix: string, // The path prefix for the middleware
    webhooksMiddleware: any, // The webhooks middleware
    oauthMiddleware: any, // The OAuth middleware
    request: IncomingMessage, // The incoming request object
    response: ServerResponse, // The outgoing response object
    next?: Function // The next middleware function in the stack
): Promise<boolean>;

// Empty export declaration to satisfy TypeScript
export {};

