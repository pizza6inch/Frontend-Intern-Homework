// This function, parseRequest, takes in a request object as its parameter.
function parseRequest(request) {
  // It creates a new object called headers by using the Object.fromEntries() method
  // on the entries of the request's headers.
  const headers = Object.fromEntries(request.headers.entries());

  // It returns a new object that contains the following properties:
  // - method: the HTTP method of the request (e.g. 'GET', 'POST', etc.)
  // - url: the URL of the request
  // - headers: the headers of the request, represented as an object
  // - text: a function that returns the request's text content
  return {
    method: request.method,
    url: request.url,
    headers,
    text: () => request.text() // The text function is an arrow function that returns the result of request.text()
  };
}

// The parseRequest function is then exported using the curly brace syntax
export {
  parseRequest
};
