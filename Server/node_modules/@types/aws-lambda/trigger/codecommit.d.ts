import { Handler } from "../handler";

// Define the type for a CodeCommit Lambda function handler
export type CodeCommitHandler = Handler<CodeCommitTrigger, void>;

/**
 * CodeCommitTrigger interface
 *
 * This interface represents the data structure for a CodeCommit trigger event.
 * It contains information about the CodeCommit repository, commit, and other
 * relevant details.
 *
 * Reference: https://docs.aws.amazon.com/lambda/latest/dg/services-codecommit.html
 */
export interface CodeCommitTrigger {
    // The AWS region where the event occurred
    awsRegion: string;

    // CodeCommit-specific event data
    codecommit: {
        // Array of references associated with the event
        references: Array<{
            // The commit hash
            commit: string;

            // Optional flags indicating whether the reference was created or deleted
            created?: boolean;
            deleted?: boolean;

            // The reference name (branch, tag, etc.)
            ref: string;
        }>;
    };

    // Custom data provided by the user
    customData?: string;

    // Unique identifier for the event
    eventId: string;

    // Name of the event
    eventName: string;

    // Part number of the event (for events that are divided into multiple parts)
    eventPartNumber: number;

    // Source of the event
    eventSource: string;

    // Amazon Resource Name (ARN) of the event source
    eventSourceARN: string;

    // Time the event occurred
    eventTime: string;

    // Total number of parts for the event (for events that are divided into multiple parts)
    eventTotalParts: number;

    // Unique identifier for the event trigger
    eventTriggerConfigId: string;

    // Name of the event trigger
    eventTriggerName: string;

    // Version of the event trigger
    eventVersion: string;

    // Amazon Resource Name (ARN) of the user who triggered the event
    userIdentityARN: string;
}

/**
 * CodeCommitTriggerEvent interface
 *
 * This
